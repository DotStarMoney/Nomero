'#tandy2000

type notItemData_t
    as integer      temp
    as integer ptr  test2
end type

type ITEM_DATA 
    as integer testInt
    as double  testDbl
    as single  testSng
    Vector2D   alright
    as integer checkIt
    as notItemData_t cheese
end type

const buhnz as integer = 4

parameter "test vector2d", Vector2D


signal   $justTrees
signal $notImportant


publish slot "my only slot", $myOnlySlot, Circle2D(Vector2D(0,0), 10.0)
publish value "TESTVALUe", string

'---------------------------------

function _init()
    dim as integer rightoh
    
    data.testSng = 4.2
    
    data.cheese.test2 = 0
    data.cheese.temp = 2
    data.checkIt = 0
    
    rightOh = buhnz

    setValue("its me", "TESTVALUE")
    print rightOh
    sleep
    
end function


'---------------------------------

function _flush()
    'nothing here but us trees!
    print "nothing here but us trees!"
    beep
    sleep

end function


'---------------------------------


function _draw()
    
    line (p.x, p.y)-(p.x+size.x, p.y+size.y), &hffff00, BF

end function

'----------------------------------

function _drawOverlay()
    
    LOCK_SCREEN()
        circle (10, 10), 10, &h00ff00
        draw string (10, 10), str(data.alright)
        if data.checkIt = 4 then draw string (10, 18), "EUREKA"
    UNLOCK_SCREEN()

end function

'----------------------------------

function _run()
   
    
    getParameter(data.alright, "test vector2D")
    
    setValue(str(timer), "testvalue")
    
end function

'-----------------------------------

/'
    sub ITEM_TANDY2000_SLOT_MYONLYSLOT_SUB(pvPair() as _Item_slotValuePair_t)
        dim aValue as integer
        matchParameter(aValue, "AVALUE", pvPair)
        
        dim as integer localVariable
        data_->checkIt = 1
    
    end sub

'/


slot $myOnlySlot(aValue as integer)
    dim as integer localVariable

    data.checkIt = 1
    

end slot

